<!DOCTYPE html>
<html>
	<head>
		<meat charset="utf-8">
		<title></title>
		<script src="jquery.js" charset="utf-8"></script>
		<script>
			/*console.log("1");
			new Promise(resolve=>{
				setTimeout(()=>{
					resolve(3);
				},2000)
			}).then(value=>{
				console.log(value);
				return new Promise(resolve=>{
					setTimeout(()=>{
						resolve(8);
					},2000)
				}).then(value=>{
					console.log(value);
				})
			})*/
			let p =new Promise((resolve,reject)=>{
				$.ajax({
					url: '1.txt',
					dataType: 'json',
					success(resolve){
						resolve(json);
					},
					error(err){
						reject(err);
					}
				});
			});
			/*p.then(json=>{
				alert("success");
				console.log(json);
			},err=>{
				alert("failed");
			});*/


			let p2=new Promise((resolve,reject)=>{
				$.ajax({
					url:'2.txt',
					dataType:'json',
					success(json){
						resolve(json);
					},
					error(err){
						reject(err);
					}
				});
			});


			let p3=new Promise((resolve,reject)=>{
				$.ajax({
					url:'3.txt',
					dataType:'json',
					success(json){
						resolve(json)
					},
					error(err){
						reject(err)
					}
				});
			});


			Promise.all([p,p2,p3]).then(arr=>{
				let [j1,a,j2]=arr;
				alert(200);
				console.log(j1,a,j2);
			},err=>{
				alert(400);
			});
		</script>
	</head>
	<body>
	</body>
</html>
